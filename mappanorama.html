<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" type="text/css" href="style.css">
    <script src="jquery-1.4.2.js" type="text/javascript"></script>
    <script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=6cDGLsuKWYAlc1GGq7bwF5nG"></script>
    <script type="text/javascript" src="http://api.map.baidu.com/library/AreaRestriction/1.2/src/AreaRestriction_min.js"></script>
    <title>全景地图</title>
</head>
<body>
    <div id="panorama"></div>

<script type="text/javascript">

var panorama = new BMap.Panorama('panorama');
//setPosition(112.5745090, 37.8614266);
setmapPosition(120.31111111, 31.58111111);
function setmapPosition (x,y) {
    x = x || 112.5808185;
    y = y ||37.867684;

    var pt = new BMap.Point(x,y);
    panorama.setPosition(pt);
}
panorama.addEventListener('position_changed', function(e){ //全景位置改变事件
       panoramaCallBack(e);
});
function panoramaCallBack(e){ //事件回调函数
    // document.getElementById('svInfoText').innerHTML="全景位置点为："+panorama.getPosition().lng+","+panorama.getPosition().lat;
    parent.set2DMapByPt(panorama.getPosition().lng,panorama.getPosition().lat);
}

</script>
</body>
</html>